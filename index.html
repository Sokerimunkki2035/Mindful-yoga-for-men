<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <title>Mindful Jooga ‚Äì Ohjelmavalikko & √Ñ√§niopastus</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      line-height: 1.6;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      background: #f4f5fb;
      color: #222;
      display: flex;
      justify-content: center;
      padding: 20px;
    }
    .page {
      max-width: 900px;
      width: 100%;
      background: #ffffff;
      border-radius: 20px;
      padding: 22px 16px 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    }
    header { text-align: center; margin-bottom: 18px; }
    header h1 { font-size: 1.7rem; margin-bottom: 6px; }
    .tagline { font-size: 0.85rem; color: #777; margin-top: 4px; }

    .menu-title {
      text-align: center;
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 14px;
    }

    .menu-buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 14px;
    }

    .menu-buttons button {
      border: none;
      padding: 12px 16px;
      border-radius: 14px;
      font-size: 1rem;
      background: #4c7dff;
      color: #fff;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      cursor: pointer;
    }
    .menu-buttons button:active {
      transform: translateY(1px);
    }

    .pose-card {
      padding: 16px;
      border-radius: 16px;
      background: #f7f7ff;
      margin-top: 10px;
      border: 1px solid #ddd;
    }

    .pose-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 4px;
    }
    .pose-sub { font-size: 0.9rem; color: #666; margin-bottom: 8px; }

    ul { margin-left: 1.1rem; font-size: 0.9rem; }
    .pose-note { font-size: 0.82rem; color: #666; margin-top: 8px; }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 14px;
    }

    button.action {
      border: none;
      border-radius: 999px;
      padding: 9px 16px;
      font-size: 0.92rem;
      cursor: pointer;
      background: #4c7dff;
      color: white;
    }
    button.alt {
      background: #e3e6ff;
      color: #2c3f7a;
    }

    .hidden { display: none; }

    .footer-note {
      margin-top: 20px;
      font-size: 0.75rem;
      color: #777;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <h1>Mindful Jooga ‚Äì √Ñ√§niopastus</h1>
      <div class="tagline">Lyhyit√§ harjoituksia bussille, t√∂ihin ja kotiin.</div>
    </header>

    <!-- OHJELMAVALIKKO -->
    <div id="menu">
      <div class="menu-title">Valitse ohjelma</div>
      <div class="menu-buttons">
        <button onclick="startProgram('startWaiting')">üöå Bussin l√§ht√∂√§ odottaessa</button>
        <button onclick="startProgram('driverSeat')">ü™ë Kuljettajan penkiss√§</button>
        <button onclick="startProgram('insideBus')">üöè Matkustajien alueella</button>
        <button onclick="startProgram('homeRelax')">üè† Kotona teht√§v√§ ohjelma</button>
      </div>
    </div>

    <!-- SIS√ÑLT√ñALUE ‚Äì T√ÑYTET√Ñ√ÑN JAVASCRIPTILL√Ñ -->
    <div id="pose-area" class="hidden">
      <button onclick="backToMenu()" class="action alt">‚¨ÖÔ∏è Takaisin ohjelmavalikkoon</button>

      <div class="pose-card">
        <div id="pose-title" class="pose-title"></div>
        <div id="pose-sub" class="pose-sub"></div>
        <ul id="pose-steps"></ul>
        <p id="pose-note" class="pose-note"></p>

        <div class="controls">
          <button id="btn-next-line" class="action">üîä Lue seuraava lause</button>
          <button id="btn-next" class="action alt">‚û°Ô∏è Seuraava asento</button>
        </div>
      </div>

      <p style="font-size:0.75rem; color:#777; margin-top:8px;">
        Vinkki: jos puhe ei kuulu, tarkista median √§√§nenvoimakkuus.
      </p>
    </div>

    <p class="footer-note">
      T√§m√§ sivu ei korvaa ammattilaisen ohjausta.
    </p>
  </div>

<script>
// ------------- OHJELMAT -------------
const programs = {
  startWaiting: [
    {
      title: "Rauhoittava hengitys",
      sub: "6 hengityskierrosta seisten tai tuolissa",
      steps: [
        "Asetu tukevasti seisomaan tai istu penkille",
        "Hengit√§ nen√§n kautta sis√§√§n nelj√§ sekuntia",
        "Pid√§ hetki paussia",
        "Hengit√§ suun kautta ulos kuusi sekuntia",
        "Toista kuusi kertaa rauhallisesti"
      ],
      note: "Katse voi olla alaviistoon. T√§m√§ rauhoittaa hermostoa nopeasti."
    },
    {
      title: "Hartioiden avaus",
      sub: "Valmistaa kuljettajan p√§iv√§√§n",
      steps: [
        "Rullaa hartiat hitaasti taakse",
        "Hengit√§ sis√§√§n ja nosta rintaa hieman",
        "Hengit√§ ulos ja anna hartioiden pudota",
        "Toista viisi kertaa",
        "Pid√§ hengitys pehme√§n√§ koko ajan"
      ],
      note: "Liike on hyvin pieni ja huomaamaton."
    }
  ],

  driverSeat: [
    {
      title: "Penkkijooga ‚Äì alasel√§lle",
      sub: "Istuen, moottorin k√§ydess√§",
      steps: [
        "Istu selk√§ suorana penkiss√§",
        "Hengit√§ sis√§√§n ja kallista lantiota hieman eteenp√§in",
        "Hengit√§ ulos ja kallista lantiota hieman taaksep√§in",
        "Toista kahdeksan rauhallista hengityskierrosta",
        "Pid√§ liike kivuttomana ja pehme√§n√§"
      ],
      note: "T√§m√§ vapauttaa alaselk√§√§ ilman ett√§ kukaan huomaa."
    },
    {
      title: "Niskan vapautus",
      sub: "Turvallinen liike liikennevaloissa",
      steps: [
        "Hengit√§ sis√§√§n ja pidenn√§ niskaa kevyesti",
        "Hengit√§ ulos ja p√§√§st√§ leuka rennoksi",
        "Kallista p√§√§t√§ hyvin kevyesti kummallekin puolelle",
        "Pid√§ hengitys tasaisena",
        "Toista 5 kertaa"
      ],
      note: "√Ñl√§ tee ter√§vi√§ liikkeit√§ ajon aikana."
    }
  ],

  insideBus: [
    {
      title: "Huomaamaton hengitys",
      sub: "Sopii matkustajien alueella",
      steps: [
        "Istu tai seiso normaalisti",
        "Hengit√§ sis√§√§n nelj√§ sekuntia",
        "Hengit√§ ulos kuusi sekuntia",
        "Pid√§ kasvot neutraaleina",
        "Toista 6‚Äì10 kierrosta"
      ],
      note: "N√§ytt√§√§ ulosp√§in vain rauhalliselta hengitykselt√§."
    },
    {
      title: "Sel√§n mikropy√∂ristys",
      sub: "L√§hes n√§kym√§t√∂n liike",
      steps: [
        "Hengit√§ sis√§√§n ja pidenn√§ rankaa",
        "Hengit√§ ulos ja py√∂rist√§ selk√§√§ muutama milli",
        "Hengit√§ sis√§√§n ja palaa neutraaliin",
        "Toista viisi hengityskierrosta",
        "Pid√§ liike niin pienen√§ ett√§ kukaan ei huomaa"
      ],
      note: "T√§m√§ helpottaa selk√§√§ ilman ett√§ erotut joukosta."
    }
  ],

  homeRelax: [
    {
      title: "Lattiahengitys",
      sub: "Syv√§ lepo kotona",
      steps: [
        "Mene selin makuulle ja tuo k√§si vatsalle",
        "Hengit√§ sis√§√§n rauhallisesti nen√§n kautta",
        "Tunne vatsan kohoavan",
        "Hengit√§ ulos pidemp√§√§n kuin sis√§√§n",
        "Toista kymmenen hengityskierrosta"
      ],
      note: "Voit tehd√§ t√§m√§n s√§ngyss√§ tai matolla."
    },
    {
      title: "Kissa‚Äìlehm√§ tuolilla",
      sub: "Pehme√§ sel√§n liike kotona",
      steps: [
        "Istu tuolilla k√§det reisill√§",
        "Hengit√§ sis√§√§n ja notkista selk√§√§",
        "Hengit√§ ulos ja py√∂rist√§ selk√§√§",
        "Toista 8‚Äì12 kertaa",
        "Liike on jatkuvasti pehme√§ ja kivuton"
      ],
      note: "Klassinen jooga-asento mutta t√§ysin tuolissa tehtyn√§."
    }
  ]
};

// ------------- LOGIIKKA -------------
let currentProgram = [];
let currentPose = 0;
let currentLine = 0;

function startProgram(name) {
  currentProgram = programs[name];
  currentPose = 0;
  currentLine = 0;

  document.getElementById("menu").classList.add("hidden");
  document.getElementById("pose-area").classList.remove("hidden");

  renderPose();
}

function backToMenu() {
  speechSynthesis.cancel();
  document.getElementById("pose-area").classList.add("hidden");
  document.getElementById("menu").classList.remove("hidden");
}

function renderPose() {
  const pose = currentProgram[currentPose];

  document.getElementById("pose-title").textContent = pose.title;
  document.getElementById("pose-sub").textContent = pose.sub;

  const stepsEl = document.getElementById("pose-steps");
  stepsEl.innerHTML = "";
  pose.steps.forEach(s => {
    const li = document.createElement("li");
    li.textContent = s;
    stepsEl.appendChild(li);
  });

  document.getElementById("pose-note").textContent = pose.note;

  currentLine = 0;
}

function speakLine() {
  const pose = currentProgram[currentPose];
  let lines = [pose.title, pose.sub, ...pose.steps, pose.note];

  if (currentLine >= lines.length) {
    let u = new SpeechSynthesisUtterance("Ohjelman t√§m√§n asennon ohjeet on nyt luettu.");
    u.lang = "fi-FI";
    speechSynthesis.speak(u);
    return;
  }

  speechSynthesis.cancel();

  let u = new SpeechSynthesisUtterance(lines[currentLine]);
  u.lang = "fi-FI";
  u.rate = 0.95;
  speechSynthesis.speak(u);

  currentLine++;
}

function nextPose() {
  speechSynthesis.cancel();
  currentPose++;

  if (currentPose >= currentProgram.length) {
    currentPose = 0;
  }

  renderPose();
}

// ----- Nappi-eventit -----
document.getElementById("btn-next-line").onclick = speakLine;
document.getElementById("btn-next").onclick = nextPose;

</script>
</body>
</html>
